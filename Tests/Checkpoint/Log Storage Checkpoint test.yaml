- defaultTab: nodes
  description: ''
  executionEnabled: true
  group: Tests/Checkpoint
  id: dd9c1268-707e-4943-9488-55022b0212f8
  loglevel: INFO
  multipleExecutions: true
  name: Log Storage Checkpoint test
  nodeFilterEditable: false
  options:
  - label: Count
    name: count
    value: '20'
  - label: Interval (in sec)
    name: interval
    value: '5'
  plugins:
    ExecutionLifecycle: null
  scheduleEnabled: true
  schedules: []
  sequence:
    commands:
    - autoSecureInput: 'false'
      passSecureInput: 'false'
      script: |
        #!/bin/bash

        # Purpose: Generate log output in defined intervals for checkpoint visibility testing.
        # Adjust COUNT and SLEEP_TIME to make the job run longer/shorter as needed.

        COUNT=@option.count@                # Number of lines to print
        SLEEP_TIME=@option.interval@        # Seconds to wait between lines

        echo "Checkpoint test begins: printing $COUNT lines, every $SLEEP_TIME seconds."

        for i in $(seq 1 $COUNT)
        do
          echo "Log line $i at $(date +'%T')"
          sleep $SLEEP_TIME
        done

        echo "Checkpoint test complete."
    keepgoing: false
    strategy: node-first
  uuid: dd9c1268-707e-4943-9488-55022b0212f8

